<div class="card">
	<p-toast></p-toast>
	<h5 class="titulo">Actas</h5>
	<div class="grid p-fluid mt-3">
		<div class="field col-12 md:col-6 pb-0">
			<input pInputText placeholder="Nombre Estudiante" [(ngModel)]="nombreFilter" />
		</div>
		<div class="field col-12 md:col-5 pb-0">
			<input pInputText placeholder="Registro Academico" [(ngModel)]="registroFilter" />
		</div>
		<div class="field col-12 md:col-1 pb-0">
			<p-button icon="pi pi-search" styleClass="p-button-rounded p-button-secondary p-button-outlined"
				(click)="buscar()"></p-button>
		</div>
	</div>
	<p-table [value]="actas" [paginator]="true" [rows]="10" [lazy]="true" (onLazyLoad)="loadActas($event)"
		[loading]="loading" [totalRecords]="totalRecords">
		<ng-template pTemplate="header">
			<tr>
				<th pSortableColumn="fechaEvaluacion">Tipo de Acta</th>
				<th pSortableColumn="estudiante">Estudiante</th>
				<th pSortableColumn="registroAcademio">Registro Academico</th>
				<th pSortableColumn="fechaEvaluacion">Carrera</th>
				<th pSortableColumn="fechaEvaluacion">Fecha de Acta</th>
				<th pSortableColumn="actaGenerada">Acta Generada</th>
				<th></th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-acta>
			<tr>
				<td style="width:20%; min-width:10rem;"><span class="p-column-title">Tipo de Acta</span>
					{{acta.tipo}}
				</td>
				<td style="width:20%; min-width:10rem;"><span class="p-column-title">Estudiante</span>
					{{acta.proyecto.usuario.nombreCompleto}}
				</td>
				<td style="width:10%; min-width:10rem;"><span class="p-column-title">Registro Academico</span>
					{{acta.proyecto.usuario.registroAcademico}}
				</td>
				<td style="width:30%; min-width:10rem;"><span class="p-column-title">Carrera</span>
					{{acta.proyecto!.carrera.nombre}}
				</td>
				<td style="width:10%; min-width:10rem;"><span class="p-column-title">Fecha Evaluacion</span>
					{{acta.fechaEvaluacion}}
				</td>
				<td style="width:10%; min-width: 10rem;"><span class="p-column-title">Acta Generada</span>
					<p-tag [severity]="getTagSeverity(acta.actaGenerada).class"
						[value]="getTagSeverity(acta.actaGenerada).value"></p-tag>
				</td>
				<td>
					<div class="flex">
						<p-button icon="pi pi-eye" styleClass="p-button-rounded p-button-success p-button-outlined"
							(click)="revisarActa(acta)"></p-button>
					</div>
				</td>
			</tr>
		</ng-template>
	</p-table>
</div>

<style>
	.titulo {
		color: #00274e;
		font-weight: bold;
	}
</style>